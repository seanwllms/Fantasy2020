filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value))
hitter_status
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
map_df(as.numeric)
hitter_status
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
modify_if(c("remaining", "max", "avg"), function(x) round(x, 1))
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
modify_if(c("remaining", "max", "avg"), round, 1)
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
modify_if("avg", round, 1)
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
modify_at("avg", round, 1)
hitter_status
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
modify_at(c("avg", "max"), round, 1)
hitter_status
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- data.frame()
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
View(big_team_df)
#get open roster spots of each time
big_team_df <- data.frame()
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- mutate(big_team_df, name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n())
big_team_df <- data.frame()
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- mutate(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n())
#get number and average positional value
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
modify_at(c("avg", "max"), round, 1)
hitter_status
#get open roster spots of each time
big_team_df <- data.frame()
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- mutate(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
mutate(C = C1 + C2,
OF = OF1 + OF2 + OF3 + OF4 + OF5 + OF6,
P = sum(P1:P10))
big_team_df <- data.frame()
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- mutate(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n())
#get open roster spots of each time
big_team_df <- data.frame()
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- mutate(big_team_df, Name=="")
big_team_df <- mutate(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n())
big_team_df <- mutate(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n())
#get open roster spots of each time
big_team_df <- data.frame()
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- mutate(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n())
big_team_df <- data.frame()
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
mutate(C = C1 + C2,
OF = OF1 + OF2 + OF3 + OF4 + OF5 + OF6,
P = sum(P1:P10))
big_team_df <- data.frame()
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n())
big_team_df <- data.frame()
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(position, remaining)%>%
mutate(C = C1 + C2,
OF = OF1 + OF2 + OF3 + OF4 + OF5 + OF6,
P = sum(P1:P10))
big_team_df <- data.frame()
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining)
big_team_df <- data.frame()
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining)%>%
mutate(C = C1 + C2,
OF = OF1 + OF2 + OF3 + OF4 + OF5 + OF6,
P = sum(P1:P10))
big_team_df <- data.frame()
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining)
#get number and average positional value
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
modify_at(c("avg", "max"), round, 1)
hitter_status
#get open roster spots of each time
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
print(all_positions)
# for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
# big_team_df <- filter(big_team_df, Name=="") %>%
#   group_by(roster_spot) %>%
#   summarise(remaining = n()) %>%
#   spread(roster_spot, remaining) %>%
#   mutate(C = C1 + C2,
#          OF = OF1 + OF2 + OF3 + OF4 + OF5 + OF6,
#          P = sum(P1:P10))
#+ P2 + P3 + P4 + P5 + P6 +P)
#get number and average positional value
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
modify_at(c("avg", "max"), round, 1)
hitter_status
#get open roster spots of each time
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
all_positions
# for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
# big_team_df <- filter(big_team_df, Name=="") %>%
#   group_by(roster_spot) %>%
#   summarise(remaining = n()) %>%
#   spread(roster_spot, remaining) %>%
#   mutate(C = C1 + C2,
#          OF = OF1 + OF2 + OF3 + OF4 + OF5 + OF6,
#          P = sum(P1:P10))
#+ P2 + P3 + P4 + P5 + P6 +P)
#get number and average positional value
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
modify_at(c("avg", "max"), round, 1)
hitter_status
#get open roster spots of each time
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- rbind(all_positions) %>%
filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate(C = C1 + C2,
OF = OF1 + OF2 + OF3 + OF4 + OF5 + OF6,
P = sum(P1:P10))
for (position in all_positions) {big_team_df <- add_row(big_team_df, roster_spot = position)}
View(big_team_df)
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate(C = C1 + C2,
OF = OF1 + OF2 + OF3 + OF4 + OF5 + OF6,
P = sum(P1:P10))
#get number and average positional value
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
modify_at(c("avg", "max"), round, 1)
hitter_status
#get open roster spots of each time
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
for (position in all_positions) {big_team_df <- add_row(big_team_df, roster_spot = position)}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate(C = C1 + C2,
OF = OF1 + OF2 + OF3 + OF4 + OF5 + OF6,
P = sum(P1:P10))
#get number and average positional value
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
modify_at(c("avg", "max"), round, 1)
hitter_status
#get open roster spots of each time
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
for (position in all_positions) {big_team_df <- add_row(big_team_df, roster_spot = position)}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n())
View(big_team_df)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
for (position in all_positions) {big_team_df <- add_row(big_team_df,
roster_spot = position,
Name = "")}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n())
big_team_df
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate(C = C1 + C2,
OF = OF1 + OF2 + OF3 + OF4 + OF5 + OF6,
P = sum(P1:P10))
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
for (position in all_positions) {big_team_df <- add_row(big_team_df,
roster_spot = position,
Name = "")}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate(C = C1 + C2,
OF = OF1 + OF2 + OF3 + OF4 + OF5 + OF6,
P = sum(P1:P10))
big_team_df
View(big_team_df)
#get open roster spots of each time
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
for (position in all_positions) {big_team_df <- add_row(big_team_df,
roster_spot = position,
Name = "")}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate_all(function(x) x-1)
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate_all(function(x) x-1) %>%
mutate(C = C1 + C2,
OF = sum(OF1:OF6),
P = sum(P1:P10)) %>%
select(-OF1:OF6, -P1:P10)
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
for (position in all_positions) {big_team_df <- add_row(big_team_df,
roster_spot = position,
Name = "")}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate_all(function(x) x-1) %>%
mutate(C = C1 + C2,
OF = sum(OF1:OF6),
P = sum(P1:P10)) %>%
select(-OF1:OF6, -P1:P10)
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
for (position in all_positions) {big_team_df <- add_row(big_team_df,
roster_spot = position,
Name = "")}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate_all(function(x) x-1) %>%
mutate(C = C1 + C2,
OF = sum(OF1:OF6),
P = sum(P1:P10))
big_team_df
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
for (position in all_positions) {big_team_df <- add_row(big_team_df,
roster_spot = position,
Name = "")}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate_all(function(x) x-1) %>%
mutate(C = C1 + C2,
OF = sum(OF1:OF6),
P = sum(P1:P10)) %>%
select(-one_of(P1:P10))
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
for (position in all_positions) {big_team_df <- add_row(big_team_df,
roster_spot = position,
Name = "")}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate_all(function(x) x-1) %>%
mutate(C = C1 + C2,
OF = sum(OF1:OF6),
P = sum(P1:P10)) %>%
select(-(P1:P10), -(OF1:OF6), -(C1:C2))
View(big_team_df)
#get number and average positional value
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
modify_at(c("avg", "max"), round, 1)
hitter_status
#get open roster spots of each time
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
for (position in all_positions) {big_team_df <- add_row(big_team_df,
roster_spot = position,
Name = "")}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate_all(function(x) x-1) %>%
mutate(C = C1 + C2,
OF = sum(OF1:OF6),
P = sum(P1:P10)) %>%
select(-(P1:P10), -(OF1:OF6), -(C1:C2)) %>%
gather(Position, Still_to_be_Drafted)
big_team_df
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate_all(function(x) x-1)
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
for (position in all_positions) {big_team_df <- add_row(big_team_df,
roster_spot = position,
Name = "")}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate_all(function(x) x-1)
big_team_df
#get number and average positional value
hitter_status <- hitter_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
group_by(position) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
modify_at(c("avg", "max"), round, 1)
hitter_status
#get open roster spots of each time
big_team_df <- data.frame()
all_positions <- marmaduke %>% pull(roster_spot)
for (team in teams) {big_team_df <- rbind(big_team_df, get(team))}
for (position in all_positions) {big_team_df <- add_row(big_team_df,
roster_spot = position,
Name = "")}
big_team_df <- filter(big_team_df, Name=="") %>%
group_by(roster_spot) %>%
summarise(remaining = n()) %>%
spread(roster_spot, remaining) %>%
mutate_all(function(x) x-1) %>%
mutate(C = C1 + C2,
OF = sum(OF1:OF6),
P = sum(P1:P10)) %>%
select(-(P1:P9), -(OF1:OF6), -(C1:C2)) %>%
gather(Position, Still_to_be_Drafted)
big_team_df
#get number and average positional value
pitcher_status <- pitcher_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
mutate(position = "pitcher") %>%
modify_at(c("avg", "max"), round, 1)
pitcher_status
View(pitcher_status)
pitcher_status <- pitcher_projections %>%
filter(status != "drafted",
dollar.value > 1) %>%
summarise(remaining = n(),
max = max(dollar.value),
avg = mean(dollar.value)) %>%
mutate(position = "pitcher") %>%
modify_at(c("avg", "max"), round, 1) %>%
select(position, remaining, max, avg)
pitcher_status
library(tidyverse)
#load in coefficients file
if (!file.exists("coefs.rda")) {
source("historyanalysis.R")
}
#load hitter and pitcher projections
if (!file.exists("projections.rda")) {
source("calculatevalue.R")
} else{
load("projections.rda")
}
#Build league
source("leaguesetup.R")
#run draft
source("draftpicks.R")
#merge in projections
source("mergeinprojections.R")
#calculate standings
source("calculatestandings.R")
#write to .csv
source("csvwriter.R")
standings.output
pkdodgers
View(pkdodgers)
View(allrise)
View(dembums)
View(standings.output)
View(marmaduke)
